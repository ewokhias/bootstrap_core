# -----------------------------------------------------------------------------
# Core config setup
# -----------------------------------------------------------------------------
#
config {
  # HTML5
  doctype = html5
  #  Character sets
  renderCharset = utf-8
  metaCharset = utf-8

  # Cache settings
  cache_period = 43200
  sendCacheHeaders = 1

  # Page title before Website title  (<title> tag)
  pageTitleFirst = 1

  # absolute urls
  absRefPrefix = /
  prefixLocalAnchors = all
  extTarget =

  # Code cleaning
  disablePrefixComment = 1
  # Move default CSS and JS to external file
  removeDefaultJS = external
  inlineStyle2TempFile = 1

  # Protect mail addresses from spamming
  spamProtectEmailAddresses = 1

  # Administrator settings
  admPanel = 0

  # -----------------------------------------
  # Language setup
  #
  # Default language settings
  sys_language_uid = 0
  locale_all = {$plugin.tx_bootstrapcore.website.lang.locale}
  language = {$plugin.tx_bootstrapcore.website.lang.localeShort}
  htmlTag_langKey < config.language

}


# -----------------------------------------------------------------------------
# Core page setup
# -----------------------------------------------------------------------------
#
page = PAGE
page {
    typeNum = 0

    10 = FLUIDTEMPLATE
    10 {
        # Layouts and partials directory
        layoutRootPath = {$plugin.tx_bootstrapcore.theme.baseDir}/tmpl/backend_layout/layouts/
        partialRootPath = {$plugin.tx_bootstrapcore.theme.baseDir}/tmpl/backend_layout/partials/
    }

    # --- CSS ----
    #
    includeCSS {
        # first
        bootstrap   = {$plugin.tx_bootstrapcore.theme.css.bootstrap}
        bootstrap.excludeFromConcatenation = 1
        bootstrap.external = 1
        bootstrap.forceOnTop = 1
    }

    # --- JS ----
    # in header
    includeJSlibs {
        jquery       = {$plugin.tx_bootstrapcore.theme.js.jquery}
        jquery.excludeFromConcatenation = 1
        jquery.external = 1
        # first js
        jquery.forceOnTop = 1

    }
    # in footer
    includeJSFooterlibs {
        bootstrap    = {$plugin.tx_bootstrapcore.theme.js.bootstrap}
        bootstrap.excludeFromConcatenation = 1
        bootstrap.external = 1
        # first js
        bootstrap.forceOnTop = 1
    }

    # --- Meta tags ----
    #
    meta {
        X-UA-Compatible = {$plugin.tx_bootstrapcore.website.meta.X-UA-Compatible}
        X-UA-Compatible.httpEquivalent = 1
        # viewport for iPad, mobile
        viewport = {$plugin.tx_bootstrapcore.website.meta.viewport}
        # use google+ profile url if persons or company is active
        author   = {$plugin.tx_bootstrapcore.website.meta.author}
        # search engine
        robots   = {$plugin.tx_bootstrapcore.website.meta.robots}
        #keywords = TEXT
        #keywords.data = levelfield:-1, keywords, slide
        description = TEXT
        description.data = field:description // field:abstract // levelfield :-1, description, slide // levelfield :-1, abstract, slide
    }
}


# -----------------------------------------------------------------------------
# Header data - for favicons, html5support for older IE, sharing via FB/Twitter
# -----------------------------------------------------------------------------
#
lib.t3b {
    # --- Favicon & Apple Touch Icons ---
    #
    favicons = TEXT
    favicons.value (
    <link rel="shortcut icon" href="fileadmin/favicons/favicon.ico" />
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="fileadmin/favicons/apple-touch-icon-144x144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="fileadmin/favicons/apple-touch-icon-114x114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="fileadmin/favicons/apple-touch-icon-72x72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" href="fileadmin/favicons/apple-touch-icon-precomposed.png">

    )

    # --- HTML5 Support for IE<9 ---
    #
    iesupport = TEXT
    iesupport.value (
    <!--[if lt IE 9]>
        <script src="lib/html5shiv/html5shiv.js"></script>
    <![endif]-->

    )

    # --- Social Networks ---
    #
    # Facebook
    meta.fb = COA
    meta.fb {
        10 = TEXT
        10 {
            value (
    <meta property="og:title" content="{page:title}" />
    <meta property="og:site_name" content="{TSFE:tmpl|sitetitle}" />

            )
            insertData = 1
        }

        # description
        20 = TEXT
        20 {
            required = 1
            data = field:description // field:abstract
            #data = field:description // field:abstract // levelfield :-1, description, slide // levelfield :-1, abstract, slide
            wrap = <meta property="og:description" content="|" />
            append = TEXT
            append.char = 10
        }

        # url
        30 = TEXT
        30 {
            typolink.parameter.data = TSFE:id
            typolink.returnLast = url
            wrap = <meta property="og:url" content="{$plugin.tx_bootstrapcore.website.protocol}://{$plugin.tx_bootstrapcore.website.domain}|" />
            wrap.insertData = 1
            append = TEXT
            append.char = 10
        }

        # image
        40 = FILES
        40 {
            references {
                table = pages
                data = levelmedia:-1,slide
            }
            renderObj = TEXT
            renderObj {
                data = file:current:publicUrl
                wrap = <meta property="og:image" content="{$plugin.tx_bootstrapcore.website.protocol}://{$plugin.tx_bootstrapcore.website.domain}/|" />
            }
        }
    }

    # Twitter
    meta.twitter < lib.t3b.meta.fb
    meta.twitter {
        10.value (
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="{page:title}" />

    )
        20.wrap = <meta name="twitter:description" content="|" />
        30.wrap = <meta name="twitter:url" content="{$plugin.tx_bootstrapcore.website.protocol}://{$plugin.tx_bootstrapcore.website.domain}|" />
        40.renderObj.wrap = <meta name="twitter:image" content="{$plugin.tx_bootstrapcore.website.protocol}://{$plugin.tx_bootstrapcore.website.domain}/|" />
    }
}


# -----------------------------------------------------------------------------
# Bootstrap Core config
# -----------------------------------------------------------------------------
#
plugin.tx_bootstrapcore {
    view {
        templateRootPath = {$plugin.tx_bootstrapcore.view.templateRootPath}
        partialRootPath = {$plugin.tx_bootstrapcore.view.partialRootPath}
        layoutRootPath = {$plugin.tx_bootstrapcore.view.layoutRootPath}
    }
}


# -----------------------------------------------------------------------------
# tt_content
# -----------------------------------------------------------------------------
#
# tt_content
<INCLUDE_TYPOSCRIPT: source="FILE:EXT:bootstrap_core/Configuration/TypoScript/core/tt_content/setup.ts">
# tt_content: Image
<INCLUDE_TYPOSCRIPT: source="FILE:EXT:bootstrap_core/Configuration/TypoScript/core/tt_content/image/setup.ts">
# tt_content: Menu & Sitemaps
<INCLUDE_TYPOSCRIPT: source="FILE:EXT:bootstrap_core/Configuration/TypoScript/core/tt_content/menu/setup.ts">
# tt_content: RTE
<INCLUDE_TYPOSCRIPT: source="FILE:EXT:bootstrap_core/Configuration/TypoScript/core/tt_content/rte/setup.ts">
# tt_content: Uploads
<INCLUDE_TYPOSCRIPT: source="FILE:EXT:bootstrap_core/Configuration/TypoScript/core/tt_content/uploads/setup.ts">
# tt_content: Videos (Custom Element)
<INCLUDE_TYPOSCRIPT: source="FILE:EXT:bootstrap_core/Configuration/TypoScript/core/tt_content/videos/setup.ts">


# -----------------------------------------------------------------------------
# Gridelements
# -----------------------------------------------------------------------------
#
<INCLUDE_TYPOSCRIPT: source="FILE:EXT:bootstrap_core/Configuration/TypoScript/gridelements/setup.ts">
